

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. API Documentation &mdash; vcsSHARK 0.1a1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="vcsSHARK 0.1a1 documentation" href="index.html"/>
        <link rel="prev" title="1. Introduction" href="intro.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> vcsSHARK
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">2. API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-pyvcsshark">2.1. Main Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application">2.2. Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-and-misc">2.3. Configuration and Misc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">2.3.1. Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pyvcsshark.utils">2.3.2. Utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#datastores">2.4. Datastores</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basedatastore">2.4.1. BaseDatastore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mongostore">2.4.2. MongoStore</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#database-design">2.4.2.1. Database Design</a></li>
<li class="toctree-l4"><a class="reference internal" href="#api">2.4.2.2. API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#models">2.5. Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parser">2.6. Parser</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#baseparser">2.6.1. BaseParser</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gitparser">2.6.2. GitParser</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">vcsSHARK</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>2. API Documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/api.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-documentation">
<h1>2. API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pyvcsshark">
<span id="main-module"></span><h2>2.1. Main Module<a class="headerlink" href="#module-pyvcsshark" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pyvcsshark.getDatastoreChoices">
<code class="descclassname">pyvcsshark.</code><code class="descname">getDatastoreChoices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark.html#getDatastoreChoices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.getDatastoreChoices" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function that gets all the available datastore choices, so that
we can check, if the user chooses an available datastore.</p>
</dd></dl>

<dl class="function">
<dt id="pyvcsshark.setup_logging">
<code class="descclassname">pyvcsshark.</code><code class="descname">setup_logging</code><span class="sig-paren">(</span><em>default_path='/usr/local/lib/python3.5/dist-packages/vcsSHARK-0.1-py3.5.egg/pyvcsshark/loggerConfiguration.json'</em>, <em>default_level=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark.html#setup_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.setup_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup logging configuration</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>default_path</strong> &#8211; path to the logger configuration</li>
<li><strong>default_level</strong> &#8211; defines the default logging level if configuration file is not found (default: logging.INFO)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyvcsshark.start">
<code class="descclassname">pyvcsshark.</code><code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark.html#start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start method to start the program. It first sets up the logging and then parses all the arguments
it got from the comandline. If a config file was given, the values in the config file overwrite the ones
given on the commandline.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If a configuration file is specified, it will overwrite the values given via the commandline!</p>
</div>
</dd></dl>

</div>
<div class="section" id="application">
<h2>2.2. Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyvcsshark.Application">
<em class="property">class </em><code class="descclassname">pyvcsshark.</code><code class="descname">Application</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/main.html#Application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>Main application class. Contains the most important process logic.
The main application consists of different steps:</p>
<ol class="arabic simple">
<li>The correct datastore is found (inherits from: <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore" title="pyvcsshark.datastores.basestore.BaseStore"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore</span></code></a>) by looking at which one was chosen by the user and the class is instantiated</li>
<li>The correct parser (inherits from: <a class="reference internal" href="#pyvcsshark.parser.baseparser.BaseParser" title="pyvcsshark.parser.baseparser.BaseParser"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.parser.baseparser.BaseParser</span></code></a>) for the specified repository is instantiated</li>
<li><a class="reference internal" href="#pyvcsshark.parser.baseparser.BaseParser.initialize" title="pyvcsshark.parser.baseparser.BaseParser.initialize"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.parser.baseparser.BaseParser.initialize()</span></code></a> is called (concreter: the <strong>implemented function</strong> of the <strong>correct parser</strong>)</li>
<li><a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.initialize" title="pyvcsshark.datastores.basestore.BaseStore.initialize"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.initialize()</span></code></a> is called with the different configuration parameters and values from the parser (concreter: the <strong>implemented function</strong> of the <strong>correct datastore</strong>)</li>
<li><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.baseparser.BaseParser.parse()</span></code> is called to start the parsing process of the repository (concreter: the <strong>implemented function</strong> of the <strong>correct parser</strong>)</li>
<li><a class="reference internal" href="#pyvcsshark.parser.baseparser.BaseParser.finalize" title="pyvcsshark.parser.baseparser.BaseParser.finalize"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.parser.baseparser.BaseParser.finalize()</span></code></a> is called to finalize the parsing process (e.g. closing files) (concreter: the <strong>implemented function</strong> of the <strong>correct parser</strong>)</li>
<li><a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.finalize" title="pyvcsshark.datastores.basestore.BaseStore.finalize"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.finalize()</span></code></a> is called to finalize the storing process (e.g. closing connections) (concreter: the <strong>implemented function</strong> of the <strong>correct datastore</strong>)</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> &#8211; An instance of <a class="reference internal" href="#pyvcsshark.Config" title="pyvcsshark.Config"><code class="xref py py-class docutils literal"><span class="pre">Config</span></code></a>, which contains the configuration parameters</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="configuration-and-misc">
<h2>2.3. Configuration and Misc<a class="headerlink" href="#configuration-and-misc" title="Permalink to this headline">¶</a></h2>
<div class="section" id="configuration">
<h3>2.3.1. Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pyvcsshark.Config">
<em class="property">class </em><code class="descclassname">pyvcsshark.</code><code class="descname">Config</code><span class="sig-paren">(</span><em>no_parse=False</em>, <em>db_driver='mongo'</em>, <em>db_user='root'</em>, <em>db_password='root'</em>, <em>db_database='vcsSHARK'</em>, <em>db_hostname='localhost'</em>, <em>db_port=27017</em>, <em>extensions=[]</em>, <em>uri='.'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that represents the parsed config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>no_parse</strong> &#8211; If true, the data is not parsed and only the extensions are executed</li>
<li><strong>db_driver</strong> &#8211; name of the datastore driver (e.g. <strong>mongo</strong>)</li>
<li><strong>db_user</strong> &#8211; datastore username (e.g. <strong>root</strong>)</li>
<li><strong>db_password</strong> &#8211; datastore password</li>
<li><strong>db_database</strong> &#8211; database of the datastore</li>
<li><strong>db_hostname</strong> &#8211; hostname where the datastore runs on</li>
<li><strong>db_port</strong> &#8211; port where the datastore is listening on</li>
<li><strong>extensions</strong> &#8211; list of extensions to be executed</li>
<li><strong>uri</strong> &#8211; path to the repository</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyvcsshark.Config.load_from_file">
<code class="descname">load_from_file</code><span class="sig-paren">(</span><em>config_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/config.html#Config.load_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.Config.load_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the configuration from the specified file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_file</strong> &#8211; path to configuration file</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyvcsshark.utils">
<span id="utils"></span><h3>2.3.2. Utils<a class="headerlink" href="#module-pyvcsshark.utils" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pyvcsshark.utils.findCorrectDatastore">
<code class="descclassname">pyvcsshark.utils.</code><code class="descname">findCorrectDatastore</code><span class="sig-paren">(</span><em>datastoreIdentifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/utils.html#findCorrectDatastore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.utils.findCorrectDatastore" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the correct datastore by looking at the datastore.storeIdentifier property</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datastoreIdentifier</strong> &#8211; string that represents the correct datastore (e.g. <strong>mongo</strong>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyvcsshark.utils.findCorrectParser">
<code class="descclassname">pyvcsshark.utils.</code><code class="descname">findCorrectParser</code><span class="sig-paren">(</span><em>repositoryPath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/utils.html#findCorrectParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.utils.findCorrectParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the correct parser by executing the parser.detect() method on
the given repository path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>repositoryPath</strong> &#8211; path to the repository</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyvcsshark.utils.find_plugins">
<code class="descclassname">pyvcsshark.utils.</code><code class="descname">find_plugins</code><span class="sig-paren">(</span><em>pluginDir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/utils.html#find_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.utils.find_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all python files in the specified path and imports them. This is needed, if we want to
detect automatically, which datastore and parser we can apply</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pluginDir</strong> &#8211; path to the plugin directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pyvcsshark.utils.readable_dir">
<code class="descclassname">pyvcsshark.utils.</code><code class="descname">readable_dir</code><span class="sig-paren">(</span><em>prospective_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/utils.html#readable_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.utils.readable_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that checks if a path is a directory, if it exists and if it is accessible and only
returns true if all these three are the case</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prospective_dir</strong> &#8211; path to the directory</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="datastores">
<h2>2.4. Datastores<a class="headerlink" href="#datastores" title="Permalink to this headline">¶</a></h2>
<div class="section" id="basedatastore">
<h3>2.4.1. BaseDatastore<a class="headerlink" href="#basedatastore" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pyvcsshark.datastores.basestore.BaseStore">
<em class="property">class </em><code class="descclassname">pyvcsshark.datastores.basestore.</code><code class="descname">BaseStore</code><a class="reference internal" href="_modules/pyvcsshark/datastores/basestore.html#BaseStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.basestore.BaseStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class for the datastores. One must inherit from this class and implement
the methods to create a new datastore.</p>
<p>Based on pythons abc: <a class="reference external" href="https://docs.python.org/3/library/abc.html#module-abc" title="(in Python v3.5)"><code class="xref py py-mod docutils literal"><span class="pre">abc</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property projectName:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">name of the project, which should be stored</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property projectURL:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">url of the repository of the project, which should be stored</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property repositoryType:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">type of the repository of the project, which should be stored</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metaclass</strong> &#8211; name of the abstract metaclass</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you want to use a logger for your implementation of a datastore you can write:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;store&quot;</span><span class="p">)</span> 
</pre></div>
</div>
<p class="last">to get the logger.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to include datastores, which are not databases like mongoDB or mysql. But you should make     sure, that your datastore implementation handels the values which are given to it correctly.</p>
</div>
<dl class="method">
<dt id="pyvcsshark.datastores.basestore.BaseStore.addCommit">
<code class="descname">addCommit</code><span class="sig-paren">(</span><em>commitModel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/basestore.html#BaseStore.addCommit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.basestore.BaseStore.addCommit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the commit to the datastore. How this is 
handled depends on the implementation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>commitModel</strong> &#8211; instance of <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">CommitModel</span></code></a>, which includes all important information about the commit</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.basestore.BaseStore.deleteAll">
<code class="descname">deleteAll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/basestore.html#BaseStore.deleteAll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.basestore.BaseStore.deleteAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all data of one project from the datastore</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.basestore.BaseStore.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/basestore.html#BaseStore.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.basestore.BaseStore.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Is called in the end to finalize the datastore (e.g. closing files or connections)</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.basestore.BaseStore.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>dbname=None</em>, <em>host=None</em>, <em>port=None</em>, <em>user=None</em>, <em>password=None</em>, <em>projectname=None</em>, <em>repositoryURL=None</em>, <em>type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/basestore.html#BaseStore.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.basestore.BaseStore.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the datastore</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dbname</strong> &#8211; name of the database to use</li>
<li><strong>host</strong> &#8211; name of the host, where the datastore runs on</li>
<li><strong>port</strong> &#8211; port, where the datastore is listening to</li>
<li><strong>user</strong> &#8211; user of the datastore (e.g. for authentication)</li>
<li><strong>password</strong> &#8211; password for the given user</li>
<li><strong>projectname</strong> &#8211; name of the project, which is to be analyzed</li>
<li><strong>repositoryURL</strong> &#8211; url of the repository, which is to be analyzed</li>
<li><strong>type</strong> &#8211; type of the repository, which is to be analyzed (e.g. &#8220;git&#8221;)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyvcsshark.datastores.basestore.BaseStore.storeIdentifier">
<code class="descname">storeIdentifier</code><a class="headerlink" href="#pyvcsshark.datastores.basestore.BaseStore.storeIdentifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Must return a string identifier for the datastore (e.g. <strong>mongo</strong>)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mongostore">
<h3>2.4.2. MongoStore<a class="headerlink" href="#mongostore" title="Permalink to this headline">¶</a></h3>
<div class="section" id="database-design">
<h4>2.4.2.1. Database Design<a class="headerlink" href="#database-design" title="Permalink to this headline">¶</a></h4>
<img alt="_images/dbschema.png" src="_images/dbschema.png" />
</div>
<div class="section" id="api">
<h4>2.4.2.2. API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="pyvcsshark.datastores.mongostore.MongoStore">
<em class="property">class </em><code class="descclassname">pyvcsshark.datastores.mongostore.</code><code class="descname">MongoStore</code><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#MongoStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.MongoStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Datastore implementation for saving data to the mongodb. Inherits from <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore" title="pyvcsshark.datastores.basestore.BaseStore"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property commitqueue:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">instance of a <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">multiprocessing.JoinableQueue</span></code></a>, which      holds objects of <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a>, that should be put into the mongodb</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property NUMBER_OF_PROCESSES:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">holds the number of processes by calling <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.cpu_count" title="(in Python v3.5)"><code class="xref py py-func docutils literal"><span class="pre">multiprocessing.cpu_count()</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property logger:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">holds the logging instance, by calling logging.getLogger(&#8220;store&#8221;)</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.MongoStore.addCommit">
<code class="descname">addCommit</code><span class="sig-paren">(</span><em>commitModel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#MongoStore.addCommit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.MongoStore.addCommit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds commits of class <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a> to the commitqueue</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.MongoStore.deleteAll">
<code class="descname">deleteAll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#MongoStore.deleteAll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.MongoStore.deleteAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all data of one project from the datastore</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Data from the people collection is not deleted, as these documents may be used by other projects!</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.MongoStore.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#MongoStore.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.MongoStore.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait till all commits are processed, by calling a join on the queue</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.MongoStore.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>dbname</em>, <em>host</em>, <em>port</em>, <em>user</em>, <em>password</em>, <em>projectname</em>, <em>repositoryURL</em>, <em>type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#MongoStore.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.MongoStore.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the mongostore by connecting to the mongodb, creating the project in the project collection         and setting up processes (see: <a class="reference internal" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess" title="pyvcsshark.datastores.mongostore.CommitStorageProcess"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.datastores.mongostore.CommitStorageProcess</span></code></a>, which
read commits out of the commitqueue, process them and store them into the mongodb.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dbname</strong> &#8211; name of the mongo database to use</li>
<li><strong>host</strong> &#8211; host where the mongodb runs on</li>
<li><strong>port</strong> &#8211; port where the mongodb server is listening on</li>
<li><strong>user</strong> &#8211; user used for authentication</li>
<li><strong>password</strong> &#8211; password for the authentication</li>
<li><strong>projectname</strong> &#8211; name of the project of the repository which is parsed</li>
<li><strong>repositoryURL</strong> &#8211; url of the repository which is parsed</li>
<li><strong>type</strong> &#8211; type of the repository which is parsed (e.g. git)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pyvcsshark.datastores.mongostore.MongoStore.storeIdentifier">
<code class="descname">storeIdentifier</code><a class="headerlink" href="#pyvcsshark.datastores.mongostore.MongoStore.storeIdentifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the identifier <strong>mongo</strong> for this datastore</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyvcsshark.datastores.mongostore.CommitStorageProcess">
<em class="property">class </em><code class="descclassname">pyvcsshark.datastores.mongostore.</code><code class="descname">CommitStorageProcess</code><span class="sig-paren">(</span><em>queue</em>, <em>projectId</em>, <em>lastCommitDate</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#CommitStorageProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that inherits from <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">multiprocessing.Process</span></code></a> for processing instances of class <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a>     and writing it into the mongodb</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue</strong> &#8211; queue, where the <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a> are stored in</li>
<li><strong>projectId</strong> &#8211; object id of class <a class="reference external" href="http://api.mongodb.org/python/current/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v3.2)"><code class="xref py py-class docutils literal"><span class="pre">bson.objectid.ObjectId</span></code></a> from the project</li>
<li><strong>lastCommitDate</strong> &#8211; object of class <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code></a>, which holds the last commit that was parsed</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.CommitStorageProcess.checkAndUpdateBranchesAndTags">
<code class="descname">checkAndUpdateBranchesAndTags</code><span class="sig-paren">(</span><em>commit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#CommitStorageProcess.checkAndUpdateBranchesAndTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess.checkAndUpdateBranchesAndTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Method that checks if the commit that was stored in the database has the same
branches and tags as the commit which is processed at the moment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>commit</strong> &#8211; object of class <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We use the project id and the revision hash to find the commit in the datastore.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.CommitStorageProcess.createBranchList">
<code class="descname">createBranchList</code><span class="sig-paren">(</span><em>branches</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#CommitStorageProcess.createBranchList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess.createBranchList" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list of the different branch names, where a commit belongs to. We go through the         branches property of the class <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a>, which is a list of         different branch objects of class <cite>pyvcsshark.dbmodels.models.CommitModel</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>branches</strong> &#8211; list of objects of class <a class="reference internal" href="#pyvcsshark.dbmodels.models.BranchModel" title="pyvcsshark.dbmodels.models.BranchModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.BranchModel</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.CommitStorageProcess.createFileActions">
<code class="descname">createFileActions</code><span class="sig-paren">(</span><em>files</em>, <em>revisionHash</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#CommitStorageProcess.createFileActions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess.createFileActions" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list of object ids of type <a class="reference external" href="http://api.mongodb.org/python/current/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v3.2)"><code class="xref py py-class docutils literal"><span class="pre">bson.objectid.ObjectId</span></code></a> for the different file actions of the commit by
transforming the files into file actions of type <a class="reference internal" href="#pyvcsshark.dbmodels.mongomodels.FileAction" title="pyvcsshark.dbmodels.mongomodels.FileAction"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.mongomodels.FileAction</span></code></a>, <a class="reference internal" href="#pyvcsshark.dbmodels.mongomodels.File" title="pyvcsshark.dbmodels.mongomodels.File"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.mongomodels.File</span></code></a>, and
<a class="reference internal" href="#pyvcsshark.dbmodels.mongomodels.Hunk" title="pyvcsshark.dbmodels.mongomodels.Hunk"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.mongomodels.Hunk</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>files</strong> &#8211; list of changed files of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.FileModel" title="pyvcsshark.dbmodels.models.FileModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.FileModel</span></code></a></li>
<li><strong>revisionHash</strong> &#8211; revisionhash of the commit which is processed</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The call to <code class="xref py py-func docutils literal"><span class="pre">mongoengine.queryset.QuerySet.upsert_one()</span></code> is thread/process safe</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Hunks (type <a class="reference internal" href="#pyvcsshark.dbmodels.mongomodels.Hunk" title="pyvcsshark.dbmodels.mongomodels.Hunk"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.mongomodels.Hunk</span></code></a>)  and the file action itself are inserted via bulk insert.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.CommitStorageProcess.createPeople">
<code class="descname">createPeople</code><span class="sig-paren">(</span><em>name</em>, <em>email</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#CommitStorageProcess.createPeople"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess.createPeople" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a people object of type <a class="reference internal" href="#pyvcsshark.dbmodels.mongomodels.People" title="pyvcsshark.dbmodels.mongomodels.People"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.mongomodels.People</span></code></a> and returns a
object id of the type <a class="reference external" href="http://api.mongodb.org/python/current/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v3.2)"><code class="xref py py-class docutils literal"><span class="pre">bson.objectid.ObjectId</span></code></a> of the stored object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the contributer</li>
<li><strong>email</strong> &#8211; email of the contributer</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The call to <code class="xref py py-func docutils literal"><span class="pre">mongoengine.queryset.QuerySet.upsert_one()</span></code> is thread/process safe</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.CommitStorageProcess.createTagList">
<code class="descname">createTagList</code><span class="sig-paren">(</span><em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#CommitStorageProcess.createTagList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess.createTagList" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list of object Ids of the type <a class="reference external" href="http://api.mongodb.org/python/current/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v3.2)"><code class="xref py py-class docutils literal"><span class="pre">bson.objectid.ObjectId</span></code></a> for the different tags.
First it goes through the tag list of the commit of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a>, which is
a list of different tag objects of class <a class="reference internal" href="#pyvcsshark.dbmodels.models.TagModel" title="pyvcsshark.dbmodels.models.TagModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.TagModel</span></code></a>. It transforms the <a class="reference internal" href="#pyvcsshark.dbmodels.models.TagModel" title="pyvcsshark.dbmodels.models.TagModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.TagModel</span></code></a>
tags to tags of type <a class="reference internal" href="#pyvcsshark.dbmodels.mongomodels.Tag" title="pyvcsshark.dbmodels.mongomodels.Tag"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.mongomodels.Tag</span></code></a> to store it in the mongodb.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a tag is found, which belongs to the same project and has the same name it is overwritten (normally, this should not be possible)</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the person who tagged the commit is NOT in the mongodb, it is created</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The call to <code class="xref py py-func docutils literal"><span class="pre">mongoengine.queryset.QuerySet.upsert_one()</span></code> is thread/process safe</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.datastores.mongostore.CommitStorageProcess.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/datastores/mongostore.html#CommitStorageProcess.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.datastores.mongostore.CommitStorageProcess.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Endless loop for the processes, which consists of several steps:</p>
<ol class="arabic simple">
<li>Get a object of class <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a> from the queue</li>
<li>Check if this commit was stored before and if it is so: update branches and tags (if they have changed)</li>
<li>Store author and committer in mongodb</li>
<li>Store Tags in mongodb</li>
<li>Create a list of branches, where the commit belongs to</li>
<li>Save the different file actions, which were done in this commit in the mongodb</li>
<li>Save the commit itself</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The committer date is used to check if a commit was already stored before. Meaning: We get the         last commit out of the database and check if the committer date of the commits we process are &gt; than the         committer date of the last commit.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">We only look for changed tags and branches here for already processed commits!</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.mongomodels.Project">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.mongomodels.</code><code class="descname">Project</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/mongomodels.html#Project"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.mongomodels.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Document that inherits from <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.Document" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.Document</span></code></a>. Holds information for the project collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Property url:</th><td class="field-body">url to the project repository (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Property name:</th><td class="field-body">name of the project (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property repositoryType:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">type of the repository (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unique (or primary key) is the field url.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.mongomodels.Commit">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.mongomodels.</code><code class="descname">Commit</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/mongomodels.html#Commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.mongomodels.Commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Document that inherits from <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.Document" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.Document</span></code></a>. Holds information for the commit collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property projectId:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">id of the project, which belongs to the file action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property revisionHash:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">revision hash of the commit (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property branches:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">list of branches to which the commit belongs to (type: <code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ListField(:class:`mongoengine.fields.StringField</span></code>)`)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property tagIds:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">list of tag ids, which belong to the commit (type: <code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ListField(:class:`mongoengine.fields.ObjectIdField</span></code>)`)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property parents:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">list of parents of the commit (type: <code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ListField(:class:`mongoengine.fields.StringField</span></code>)`)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property authorId:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">id of the author of the commit (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property authorDate:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">date when the commit was created (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.DateTimeField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.DateTimeField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property authorOffset:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">offset of the authorDate (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.IntField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.IntField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property committerId:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">id of the committer of the commit (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property committerDate:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">date when the commit was committed (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.DateTimeField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.DateTimeField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property committerOffset:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">offset of the committerDate (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.IntField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.IntField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property message:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">commit message (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property fileActionIds:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">list of file action ids, which belong to the commit (type: <code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ListField(:class:`mongoengine.fields.ObjectIdField</span></code>)`)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unique (or primary key) are the fields projectId and revisionHash.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.mongomodels.FileAction">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.mongomodels.</code><code class="descname">FileAction</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/mongomodels.html#FileAction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.mongomodels.FileAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Document that inherits from <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.Document" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.Document</span></code></a>. Holds information for the fileaction collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property projectId:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">id of the project, which belongs to the file action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property fileId:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">id of the file, which belongs to the file action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property revisionHash:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">hash of the revision (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Property mode:</th><td class="field-body"><p class="first">mode of the file action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It can only be (&#8220;A&#8221;)dded, (&#8220;D&#8221;)eleted, (&#8220;M&#8221;)odified, (&#8220;C&#8221;)opied or Moved, &#8220;T&#8221; for links (special in git)</p>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property sizeAtCommit:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">size of the file on commit (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.IntField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.IntField</span></code></a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property linesAdded:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">number of lines added in this action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.IntField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.IntField</span></code></a>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property linesDeleted:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">number of lines deleted in this action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.IntField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.IntField</span></code></a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property isBinary:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first">indicates if the file is a binary file or not (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.BooleanField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.BooleanField</span></code></a>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property oldFilePathId:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">object id of old file (if it was moved or copied) (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property hunkIds:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">list of ids to the different hunks of this action (type: <code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ListField(:class:`mongoengine.fields.ObjectIdField</span></code>)`)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unique (or primary key) are the fields: projectId, fileId, and revisionHash.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">oldFilePathId only exists, if the file was created due to a copy or move action</p>
</div>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.mongomodels.File">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.mongomodels.</code><code class="descname">File</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/mongomodels.html#File"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.mongomodels.File" title="Permalink to this definition">¶</a></dt>
<dd><p>Document that inherits from <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.Document" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.Document</span></code></a>. Holds information for the file collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property projectId:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">id of the project, which belongs to the file action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Property path:</th><td class="field-body">path of the file (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Property name:</th><td class="field-body">name of the file (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unique (or primary key) are the fields: path, name, and projectId.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.mongomodels.Hunk">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.mongomodels.</code><code class="descname">Hunk</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/mongomodels.html#Hunk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.mongomodels.Hunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Document that inherits from <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.Document" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.Document</span></code></a>. Holds information for the hunk collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property content:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">content of the hunk in the unified format (see: <a class="reference external" href="https://en.wikipedia.org/wiki/Diff#Unified_format">https://en.wikipedia.org/wiki/Diff#Unified_format</a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.mongomodels.Tag">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.mongomodels.</code><code class="descname">Tag</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/mongomodels.html#Tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.mongomodels.Tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Document that inherits from <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.Document" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.Document</span></code></a>. Holds information for the tag collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property projectId:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">id of the project, which belongs to the file action (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Property name:</th><td class="field-body">name of the tag (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property message:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">message of the tag (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property taggerId:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">id of the person who created the tag (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.ObjectIdField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.ObjectIdField</span></code></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Property date:</th><td class="field-body">date of the creation of the tag (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.DateTimeField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.DateTimeField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property offset:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">offset of the tag creation date for timezones (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.IntField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.IntField</span></code></a>)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unique (or primary key) are the fields: name and projectId.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.mongomodels.People">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.mongomodels.</code><code class="descname">People</code><span class="sig-paren">(</span><em>*args</em>, <em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/mongomodels.html#People"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.mongomodels.People" title="Permalink to this definition">¶</a></dt>
<dd><p>Document that inherits from <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.Document" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.Document</span></code></a>. Holds information for the people collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Property name:</th><td class="field-body">name of the person (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Property email:</th><td class="field-body">email of the person (type: <a class="reference external" href="http://docs.mongoengine.org/apireference.html#mongoengine.fields.StringField" title="(in MongoEngine v0.10.6)"><code class="xref py py-class docutils literal"><span class="pre">mongoengine.fields.StringField</span></code></a>)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unique (or primary key) are the fields: name and email.</p>
</div>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="models">
<h2>2.5. Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pyvcsshark.dbmodels.models.CommitModel">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.models.</code><code class="descname">CommitModel</code><span class="sig-paren">(</span><em>id</em>, <em>branches=[]</em>, <em>tags=[]</em>, <em>parents=[]</em>, <em>author=None</em>, <em>committer=None</em>, <em>message=None</em>, <em>changedFiles=[]</em>, <em>authorDate=None</em>, <em>authorOffset=None</em>, <em>committerDate=None</em>, <em>committerOffset=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/models.html#CommitModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.models.CommitModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Model that represents a commit to a repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> &#8211; id of the ocmmit (e.g. a revision hash)</li>
<li><strong>branches</strong> &#8211; set of branches to which the commit belongs to</li>
<li><strong>tags</strong> &#8211; list of tags of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.TagModel" title="pyvcsshark.dbmodels.models.TagModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.TagModel</span></code></a></li>
<li><strong>parents</strong> &#8211; list of strings, which contains the parent ids of the commit</li>
<li><strong>author</strong> &#8211; author of the commit. Must be of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.PeopleModel" title="pyvcsshark.dbmodels.models.PeopleModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.PeopleModel</span></code></a></li>
<li><strong>committer</strong> &#8211; committer of the commit. Must be of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.PeopleModel" title="pyvcsshark.dbmodels.models.PeopleModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.PeopleModel</span></code></a></li>
<li><strong>message</strong> &#8211; string of the commit message</li>
<li><strong>changedFiles</strong> &#8211; list of files of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.FileModel" title="pyvcsshark.dbmodels.models.FileModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.FileModel</span></code></a></li>
<li><strong>authorDate</strong> &#8211; date of the creation of the change of the commit (must be a UNIX timestamp)</li>
<li><strong>authorOffset</strong> &#8211; offset for the authordate (timezone)</li>
<li><strong>committerDate</strong> &#8211; date of the commit (must be a UNIX timestamp)</li>
<li><strong>committerOffset</strong> &#8211; offset for the committerdate (timezone)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If your parser do not provide all information, then just use the default ones</p>
</div>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.models.FileModel">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.models.</code><code class="descname">FileModel</code><span class="sig-paren">(</span><em>path</em>, <em>size=None</em>, <em>linesAdded=None</em>, <em>linesDeleted=None</em>, <em>isBinary=None</em>, <em>mode=None</em>, <em>hunks=[]</em>, <em>oldPath=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/models.html#FileModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.models.FileModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Model that holds the changes of the files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; path to the file that was changed</li>
<li><strong>size</strong> &#8211; size of the file that was changed</li>
<li><strong>linesAdded</strong> &#8211; count of how many lines were added to the file</li>
<li><strong>linesDeleted</strong> &#8211; count of how many lines were deleted</li>
<li><strong>isBinary</strong> &#8211; boolean, which is true if the file is a binary file</li>
<li><strong>mode</strong> &#8211; mode of the file action (e.g. &#8220;A&#8221; for file was added)</li>
<li><strong>hunks</strong> &#8211; list of hunks for the file</li>
<li><strong>oldPath</strong> &#8211; old path to the file, which only exist if a file was copied or moved</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.models.TagModel">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.models.</code><code class="descname">TagModel</code><span class="sig-paren">(</span><em>name</em>, <em>message=None</em>, <em>tagger=None</em>, <em>taggerDate=None</em>, <em>taggerOffset=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/models.html#TagModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.models.TagModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Model that holds the information for the different tags.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the tag</li>
<li><strong>message</strong> &#8211; message of the tag</li>
<li><strong>tagger</strong> &#8211; creator of the tag. Must be of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.PeopleModel" title="pyvcsshark.dbmodels.models.PeopleModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.PeopleModel</span></code></a>.</li>
<li><strong>taggerDate</strong> &#8211; date of the creation of the tag. Must be a UNIX timestamp.</li>
<li><strong>taggerOffset</strong> &#8211; offset for taggerdate (timezone)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.models.BranchModel">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.models.</code><code class="descname">BranchModel</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/models.html#BranchModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.models.BranchModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Model which holds the branch information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; name of the branch</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="pyvcsshark.dbmodels.models.PeopleModel">
<em class="property">class </em><code class="descclassname">pyvcsshark.dbmodels.models.</code><code class="descname">PeopleModel</code><span class="sig-paren">(</span><em>name=None</em>, <em>email=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/dbmodels/models.html#PeopleModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.dbmodels.models.PeopleModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Model that holds the people information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the person</li>
<li><strong>email</strong> &#8211; email of the person</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="parser">
<h2>2.6. Parser<a class="headerlink" href="#parser" title="Permalink to this headline">¶</a></h2>
<div class="section" id="baseparser">
<h3>2.6.1. BaseParser<a class="headerlink" href="#baseparser" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pyvcsshark.parser.baseparser.BaseParser">
<em class="property">class </em><code class="descclassname">pyvcsshark.parser.baseparser.</code><code class="descname">BaseParser</code><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class for the parsers. One must inherit from this class and implement
the methods to create a new repository parser.</p>
<p>Based on pythons abc: <a class="reference external" href="https://docs.python.org/3/library/abc.html#module-abc" title="(in Python v3.5)"><code class="xref py py-mod docutils literal"><span class="pre">abc</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metaclass</strong> &#8211; name of the abstract metaclass</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you want to use a logger for your implementation of a datastore you can write:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;parser&quot;</span><span class="p">)</span> 
</pre></div>
</div>
<p class="last">to get the logger.</p>
</div>
<dl class="method">
<dt id="pyvcsshark.parser.baseparser.BaseParser.detect">
<code class="descname">detect</code><span class="sig-paren">(</span><em>repositoryPath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser.detect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.detect" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the parser is applicable to the repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>repositoryPath</strong> &#8211; path to the repository</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.baseparser.BaseParser.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalization process for parser</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.baseparser.BaseParser.getImmediateSubdirectories">
<code class="descname">getImmediateSubdirectories</code><span class="sig-paren">(</span><em>a_dir</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser.getImmediateSubdirectories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.getImmediateSubdirectories" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method, which gets the <strong>immediate</strong> subdirectoriesof a path. Is helpful, if one want to create a 
parser, which looks if certain folders are there.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a_dir</strong> &#8211; directory from which <strong>immediate</strong> subdirectories should be listed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.baseparser.BaseParser.getProjectName">
<code class="descname">getProjectName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser.getProjectName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.getProjectName" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the project name from the repository. This need to be
put here, as only the parser is specific to the repository type</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.baseparser.BaseParser.getProjectURL">
<code class="descname">getProjectURL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser.getProjectURL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.getProjectURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the project url from the repository. This need to be
put here, as only the parser is specific to the repository type</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.baseparser.BaseParser.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialization process for parser</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.baseparser.BaseParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>repositoryPath</em>, <em>datastore</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/baseparser.html#BaseParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>repositoryPath</strong> &#8211; path to the repository</li>
<li><strong>datastore</strong> &#8211; subclass of <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore" title="pyvcsshark.datastores.basestore.BaseStore"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We must call the <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.addCommit" title="pyvcsshark.datastores.basestore.BaseStore.addCommit"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.addCommit()</span></code></a> function in the parsing process if we want         to add commits to the datastore</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="pyvcsshark.parser.baseparser.BaseParser.repositoryType">
<code class="descname">repositoryType</code><a class="headerlink" href="#pyvcsshark.parser.baseparser.BaseParser.repositoryType" title="Permalink to this definition">¶</a></dt>
<dd><p>Must return the type for the given repository. E.g. <strong>git</strong></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gitparser">
<h3>2.6.2. GitParser<a class="headerlink" href="#gitparser" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pyvcsshark.parser.gitparser.GitParser">
<em class="property">class </em><code class="descclassname">pyvcsshark.parser.gitparser.</code><code class="descname">GitParser</code><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Parser for git repositories. The general parsing process is described in <a class="reference internal" href="#pyvcsshark.parser.gitparser.GitParser.parse" title="pyvcsshark.parser.gitparser.GitParser.parse"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.parser.gitparser.GitParser.parse()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property SIMILARITY_THRESHOLD:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">sets the threshold for deciding if a file is similar to another. Default: 50%</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property NUMBER_OF_PROCESSES:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">number of processes for the parsing process. Calls <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.cpu_count" title="(in Python v3.5)"><code class="xref py py-func docutils literal"><span class="pre">multiprocessing.cpu_count()</span></code></a>.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property repository:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">object of class <a class="reference external" href="http://www.pygit2.org/repository.html#pygit2.Repository" title="(in pygit2 v0.23)"><code class="xref py py-class docutils literal"><span class="pre">pygit2.Repository</span></code></a>, which represents the repository</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property commitsToBeProcessed:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">dictionary that is set up the following way:     commitsToBeProcessed = {&#8216;&lt;revisionHash&gt;&#8217; : {&#8216;branches&#8217; : set(), &#8216;tags&#8217; : []}}, where &lt;revisionHash&gt; must be replaced with the actual hash. Therefore,     this dictionary holds information about every revision and which branches this revision belongs to and which tags it has.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property logger:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">logger, which is acquired via logging.getLogger(&#8220;parser&#8221;)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Property datastore:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">datestore, where the commits should be saved to</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Property commitqueue:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">object of class <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.JoinableQueue" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">multiprocessing.JoinableQueue</span></code></a>, where commits are stored in that can be parsed</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.addBranch">
<code class="descname">addBranch</code><span class="sig-paren">(</span><em>commitHash</em>, <em>branch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.addBranch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.addBranch" title="Permalink to this definition">¶</a></dt>
<dd><p>Does two things: First it adds the commitHash to the commitqueue, so that the parsing processes can process this commit. Second it
creates objects of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.BranchModel" title="pyvcsshark.dbmodels.models.BranchModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.BranchModel</span></code></a> and stores it in the dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>commitHash</strong> &#8211; revision hash of the commit to be processed</li>
<li><strong>branch</strong> &#8211; branch that should be added for the commit</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.addTag">
<code class="descname">addTag</code><span class="sig-paren">(</span><em>taggedCommit</em>, <em>tagName</em>, <em>tagObject</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.addTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.addTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates objects of type <a class="reference internal" href="#pyvcsshark.dbmodels.models.TagModel" title="pyvcsshark.dbmodels.models.TagModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.TagModel</span></code></a> and stores it in the dictionary mentioned above.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>taggedCommit</strong> &#8211; revision hash of the commit to be processed</li>
<li><strong>tagName</strong> &#8211; name of the tag that should be added</li>
<li><strong>tagObject</strong> &#8211; in git it is possible to annotate tags. If a tag is annottated, we get a tag object of class <code class="xref py py-class docutils literal"><span class="pre">pygit2.Tag</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It can happen, that people committed to a tag and therefore created         a &#8220;tag-branch&#8221; which is normally not possible in git. Therefore, we go through all tags and check         if they respond to a commit, which is already in the dictionary.         If <strong>yes</strong> -&gt; we <strong>tag</strong> that commit         If <strong>no</strong> -&gt; we <strong>ignore</strong> it</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.detect">
<code class="descname">detect</code><span class="sig-paren">(</span><em>repositoryPath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.detect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.detect" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect the repository, if its not there an exception is raised and therfore false can be returned</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.finalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalization process for paser</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.getProjectName">
<code class="descname">getProjectName</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.getProjectName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.getProjectName" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the project, which is processed</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.getProjectURL">
<code class="descname">getProjectURL</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.getProjectURL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.getProjectURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the url of the project, which is processed</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the parser. It gets all the branch and tag information and puts it into two different locations: First the commit id
is put into the commitqueue for the processing with the parsing processes. Second a dictionary is created, which holds the information of
which branches a commit is on and which tags it has</p>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.GitParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>repositoryPath</em>, <em>datastore</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#GitParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.GitParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the repository, which is located at the repositoryPath and save the parsed commits in the
datastore, by calling the <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.addCommit" title="pyvcsshark.datastores.basestore.BaseStore.addCommit"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.addCommit()</span></code></a> method of the chosen datastore. It
mostly uses pygit2 (see: <a class="reference external" href="http://www.pygit2.org/">http://www.pygit2.org/</a>).</p>
<p>The parsing process is divided into several steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>A list of all branches and tags are created</li>
<li>All branches and tags are parsed. So we create dictionary of all commits with their corresponding tags and branches and add all         revision hashes to the commitqueue</li>
<li>Add the poison pills for terminating of the parsing process to the commitqueue</li>
<li>Create processes of class <a class="reference internal" href="#pyvcsshark.parser.gitparser.CommitParserProcess" title="pyvcsshark.parser.gitparser.CommitParserProcess"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.parser.gitparser.CommitParserProcess</span></code></a>, which parse all commits.</li>
</ol>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyvcsshark.parser.gitparser.CommitParserProcess">
<em class="property">class </em><code class="descclassname">pyvcsshark.parser.gitparser.</code><code class="descname">CommitParserProcess</code><span class="sig-paren">(</span><em>queue</em>, <em>commitsToBeProcessed</em>, <em>repository</em>, <em>datastore</em>, <em>lock</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#CommitParserProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.CommitParserProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>A process, which inherits from <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="(in Python v3.5)"><code class="xref py py-class docutils literal"><span class="pre">multiprocessing.Process</span></code></a>, that will parse the branches it 
gets from the queue and call the <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.addCommit" title="pyvcsshark.datastores.basestore.BaseStore.addCommit"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.addCommit()</span></code></a> function to add
the commits</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Property logger:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">logger acquired by calling logging.getLogger(&#8220;parser&#8221;)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>queue</strong> &#8211; queue, where the different commithashes are stored in</li>
<li><strong>commitsToBeProcessed</strong> &#8211; dictionary, which contains information about the branches and tags of each commit</li>
<li><strong>repository</strong> &#8211; repository object of type <a class="reference external" href="http://www.pygit2.org/repository.html#pygit2.Repository" title="(in pygit2 v0.23)"><code class="xref py py-class docutils literal"><span class="pre">pygit2.Repository</span></code></a></li>
<li><strong>datastore</strong> &#8211; object, that is a subclass of <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore" title="pyvcsshark.datastores.basestore.BaseStore"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore</span></code></a></li>
<li><strong>lock</strong> &#8211; lock that is used, so that only one process at a time is calling the <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.addCommit" title="pyvcsshark.datastores.basestore.BaseStore.addCommit"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.addCommit()</span></code></a> function</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyvcsshark.parser.gitparser.CommitParserProcess.createDiffInUnifiedFormat">
<code class="descname">createDiffInUnifiedFormat</code><span class="sig-paren">(</span><em>hunks</em>, <em>initialCommit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#CommitParserProcess.createDiffInUnifiedFormat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.CommitParserProcess.createDiffInUnifiedFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the diff in the unified format (see: <a class="reference external" href="https://en.wikipedia.org/wiki/Diff#Unified_format">https://en.wikipedia.org/wiki/Diff#Unified_format</a>)</p>
<p>If we have the initial commit, we need to turn around the hunk.* attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hunks</strong> &#8211; list of objects of class <code class="xref py py-class docutils literal"><span class="pre">pygit2.DiffHunk</span></code></li>
<li><strong>initialCommit</strong> &#8211; indicates if we have an initial commit</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.CommitParserProcess.getChangedFilesForInitialCommit">
<code class="descname">getChangedFilesForInitialCommit</code><span class="sig-paren">(</span><em>commit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#CommitParserProcess.getChangedFilesForInitialCommit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.CommitParserProcess.getChangedFilesForInitialCommit" title="Permalink to this definition">¶</a></dt>
<dd><p>Special function for the initial commit, as we need to diff against the empty tree. Creates
the changed files list, where objects of class <a class="reference internal" href="#pyvcsshark.dbmodels.models.FileModel" title="pyvcsshark.dbmodels.models.FileModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.FileModel</span></code></a> are added.
For every changed file in the initial commit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>commit</strong> &#8211; commit of type <code class="xref py py-class docutils literal"><span class="pre">pygit2.Commit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.CommitParserProcess.getChangedFilesWithSimiliarity">
<code class="descname">getChangedFilesWithSimiliarity</code><span class="sig-paren">(</span><em>parent</em>, <em>commit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#CommitParserProcess.getChangedFilesWithSimiliarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.CommitParserProcess.getChangedFilesWithSimiliarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a list of changed files of the class <a class="reference internal" href="#pyvcsshark.dbmodels.models.FileModel" title="pyvcsshark.dbmodels.models.FileModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.FileModel</span></code></a>. For every
changed file in the commit such an object is created. Furthermore, hunks are saved an each file is tested for similarity to
detect copy and move operations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parent</strong> &#8211; Object of class <code class="xref py py-class docutils literal"><span class="pre">pygit2.Commit</span></code>, that represents the parent commit</li>
<li><strong>commit</strong> &#8211; Object of class <code class="xref py py-class docutils literal"><span class="pre">pygit2.Commit</span></code>, that represents the child commit</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.CommitParserProcess.getModeForFile">
<code class="descname">getModeForFile</code><span class="sig-paren">(</span><em>parentTree</em>, <em>childTree</em>, <em>path</em>, <em>similarity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#CommitParserProcess.getModeForFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.CommitParserProcess.getModeForFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the mode for a file.
C = Copied/Moved (if similiarity is greater than threshold)
A = Added (if file is not in parenttree, but in child tree)
D = Deleted (if file is in parent tree, but not in child tree)
M = Modified (otherwise)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parentTree</strong> &#8211; object of type <code class="xref py py-class docutils literal"><span class="pre">pygit2.Tree</span></code> of the parent commit</li>
<li><strong>childTree</strong> &#8211; object of type <code class="xref py py-class docutils literal"><span class="pre">pygit2.Tree</span></code> of the child commit</li>
<li><strong>path</strong> &#8211; path to the file that is analyzed</li>
<li><strong>similarity</strong> &#8211; similarity of the two files in both trees</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.CommitParserProcess.parseCommit">
<code class="descname">parseCommit</code><span class="sig-paren">(</span><em>commit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#CommitParserProcess.parseCommit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.CommitParserProcess.parseCommit" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for parsing a commit.</p>
<ol class="arabic simple">
<li>changedFiles are created (type: list of <a class="reference internal" href="#pyvcsshark.dbmodels.models.FileModel" title="pyvcsshark.dbmodels.models.FileModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.FileModel</span></code></a>)</li>
<li>author and commiter are created (type: <a class="reference internal" href="#pyvcsshark.dbmodels.models.PeopleModel" title="pyvcsshark.dbmodels.models.PeopleModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.PeopleModel</span></code></a>)</li>
<li>parents are added (list of strings)</li>
<li>commit model is created (type: <a class="reference internal" href="#pyvcsshark.dbmodels.models.CommitModel" title="pyvcsshark.dbmodels.models.CommitModel"><code class="xref py py-class docutils literal"><span class="pre">pyvcsshark.dbmodels.models.CommitModel</span></code></a>)</li>
<li><a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.addCommit" title="pyvcsshark.datastores.basestore.BaseStore.addCommit"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.addCommit()</span></code></a> is called</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>commit</strong> &#8211; commit object of type <code class="xref py py-class docutils literal"><span class="pre">pygit2.Commit</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The call to <a class="reference internal" href="#pyvcsshark.datastores.basestore.BaseStore.addCommit" title="pyvcsshark.datastores.basestore.BaseStore.addCommit"><code class="xref py py-func docutils literal"><span class="pre">pyvcsshark.datastores.basestore.BaseStore.addCommit()</span></code></a> is thread/process safe, as a lock is used to regulate the calls</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pyvcsshark.parser.gitparser.CommitParserProcess.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyvcsshark/parser/gitparser.html#CommitParserProcess.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyvcsshark.parser.gitparser.CommitParserProcess.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The process gets a commit out of the queue and processes it.
We use the poisonous pill technique here. Means, our queue has #Processes times &#8220;None&#8221; in it in the end.
If a process encouters that None, he will stop and terminate.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="intro.html" class="btn btn-neutral" title="1. Introduction" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Fabian Trautsch.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1a1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>